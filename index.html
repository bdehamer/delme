<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="x-ua-compatible" content="ie=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>bdehamer</title>
    <script>
      
      async function getAvatarID(username) {
          const response = await fetch(`https://api.sleeper.app/v1/user/${username}`)
          const json = await response.json()
          return json.avatar
      }

      document.addEventListener("DOMContentLoaded", function() {
        const fetchButton = document.getElementById("fetchButton");
        const usernameInput = document.getElementById("username");
        const avatarContainer = document.getElementById("avatarContainer");

        fetchButton.addEventListener("click", async function() {
          const username = usernameInput.value.trim();
          if (!username) {
            alert("Please enter a Sleeper username.");
            return;
          }

          const response = await fetch(`https://api.sleeper.app/v1/user/${username}`)
          const json = await response.json()
          const avatarID = await getAvatarID(username)

          avatarContainer.innerHTML = `<img src="https://sleepercdn.com/avatars/${avatarID}" style="max-width:200px; max-height:200px;"/>`
        });
      }); 
    </script> 
  </head>

  <body>
    <h1>Sleeper Avatar</h1>

    <input type="text" id="username" placeholder="Enter Sleeper Username" />
    <button id="fetchButton">Fetch Avatar</button>
    <div id="avatarContainer"></div>
  </body>
</html>
